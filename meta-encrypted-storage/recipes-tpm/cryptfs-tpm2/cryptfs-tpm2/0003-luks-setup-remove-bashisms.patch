--- a/scripts/luks-setup.sh	2020-06-04 15:36:40.800535046 +0200
+++ b/scripts/luks-setup.sh	2020-09-17 15:45:33.939108515 +0200
@@ -1,4 +1,4 @@
-#!/bin/bash
+#!/bin/sh
 
 # The wrapper script for the creation of LUKS partition
 #
@@ -46,6 +46,8 @@
 TPM_ABSENT=1
 TEMP_DIR=""
 
+PATH=$PATH:'/usr/sbin'
+
 print_critical() {
     printf "\033[1;35m"
     echo "$@"
@@ -331,7 +333,8 @@
     shift
 done
 
-trap "trap_handler $?" SIGINT EXIT
+# 2: SIGINT, 0: EXIT
+trap "trap_handler $?" 2 0
 
 OPT_LUKS_NAME="${OPT_LUKS_NAME:-$DEFAULT_ENCRYPTION_NAME}"
 
@@ -388,10 +391,11 @@
 print_critical "******************************************************************"
 echo
 
-read -p "Do you wish to continue? [y/n] " -n 1
+echo -n "Do you wish to continue? [y/n] "
+read
 echo
 
-if [[ ! $REPLY =~ ^[Yy]$ ]]; then
+if [[ "$REPLY" != "y" ]] && [[ "$REPLY" != "Y" ]]; then
     print_info "Installation cancelled"
     exit 0
 else
